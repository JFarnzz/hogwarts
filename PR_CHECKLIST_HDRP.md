# HDRP Migration PR Checklist

Use this checklist when preparing a PR that migrates the project to HDRP. Follow steps in order and attach screenshots / test results to the PR description.

Pre-work (local)

- Backup: create a Git branch from master: `git checkout -b upgrade/hdrp`.
- Commit any in-progress work and push the branch upstream for CI.
- Ensure Unity Editor version matches `ProjectSettings/ProjectVersion.txt` (2022.3.x). Install Unity 2022.3 LTS if needed.

Editor migration steps

1. Open the project in Unity (2022.3). Let the Editor re-import assets.
2. Open Package Manager and install the matching HDRP package (e.g., 12.x for 2022.3) and Shader Graph.
3. Create HDRP assets: `Assets -> Create -> Rendering -> High Definition Render Pipeline -> HDRenderPipelineAsset` and create Default Settings when prompted.
4. Assign HDRP asset in `Project Settings -> Graphics` (Scriptable Render Pipeline field) and in `Edit -> Render Pipeline -> HD Render Pipeline -> Upgrade Project Materials to HDRP Materials` run the automatic upgrader.
5. Reassign any HDRP/Shader Graph-specific resources required by HDRP (default Volume Profile, Lighting settings, Sky settings).

Material & shader conversion

- Review `shader_report.csv` (generated by `tools/scan_material_shaders.py`) to identify materials linked to custom shaders (Toon, Tessellation, Image Effects, Projectors). Prioritize shaders used by characters and player-facing assets.
- For surface shaders (Toon, Standard), port to Shader Graph HDRP Lit masters or use HDRP Lit with matching maps. For post-processing and hidden shaders, reimplement as HDRP Volume overrides or Custom Passes.
- Do not run bulk textual replacements on `.mat` YAML unless you understand the GUID map. Prefer using Unity's material upgrader and manual reassignment inside the Editor.

Testing (required before PR)

- Playtest: Open `Assets/Scenes/MainMenu.unity` and other gameplay scenes. Verify players/NPCs render, UI displays correctly, and basic gameplay logic functions.
- Lighting: Re-bake lightmaps and reflection probes where applicable.
- Post-process: Confirm Volume post-processing yields expected visuals; check shadows and contact shadows.
- Multiplayer: Run two Editor instances or test with Photon Cloud to ensure networking still works; verify networked players appear correctly.
- Build: Perform a development build for the target platform (PC) and run basic smoke tests (launch, connect, load scene, basic interactions).

CI / PR content

- In PR description include:
  - HDRP package version used and Unity Editor version.
  - A link to `shader_report.csv` and list of high-priority shaders you converted.
  - Screenshots for MainMenu and one gameplay scene before/after.
  - Any manual changes to prefabs/materials and rationale.
- Add reviewers familiar with rendering and with the Networking subsystem (Photon) to validate that no behavioral regressions were introduced.

Rollback & mitigation

- If visual regressions are extensive, revert to branch and iterate on a smaller set of changes (e.g., convert only characters, leave environment for a follow-up PR).

Acceptance criteria

- Scenes load and run in Play mode without fatal errors.
- Player and NPC visuals are acceptable (no missing textures/shaders) and UI is functional.
- Build passes basic smoke tests and multiplayer connection works.

Notes and references

- Use `tools/scan_material_shaders.py` to produce `shader_report.csv`.
- See `UPGRADE_TO_HDRP.md` for a full migration guide and `UPGRADE_TO_URP.md` if you consider URP instead.
